<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>가위 바위 보를 10번하여 승률 출력</h1>
    <button type="button" id="btn">승률 출력</button>
    <h3>
        10 게임의 승률은 <span id="result"></span>% 입니다.
    </h3>


    <script>
        // 가위바위보 게임
        // com = random / player = random
        // 1=가위, 2=바위, 3=보
        // 승률계산 : (승/ (10=무))*100 > 소수점 2자리까지 표현
        // 콘솔 : com, player 가 낸 수(가위바위보) 출력
        // 콘솔 : 승 : , 무 : , 패 :

        let com=0;
        let player=0;
        let win=0;
        let draw=0;
        let lose=0;

        // for(let i=0; i<10; i++){
        //     com = Math.floor(Math.random()*3)+1;
        //     player = Math.floor(Math.random()*3)+1;
        //     console.log(`com: ${com}  /  player: ${player}`);

        //     if(player>com){
        //         win++;
        //     }else if(player<com){
        //         lose++;
        //     }else if(player==com){
        //         draw++;
        //     };
        // };
        // console.log(`승:${win}   무:${draw}   패:${lose}`);

        // let wrate = ((win / (10-draw))*100).toFixed(2);
        // console.log(wrate+"%");

        // document.getElementById('btn').addEventListener('click',()=>{
        //     document.getElementById('result').innerHTML = wrate;
        // });


        // random 수를 리턴해주는 함수
        function ran(){
            return Math.floor(Math.random()*3)+1;
        }


        document.getElementById('btn').addEventListener('click', ()=> {
            let win = 0;
            let draw = 0;
            let lose = 0;

            for(let i=1; i<10; i++){
                // let player = Math.floor(Math.random()*3)+1;
                // let com = Math.floor(Math.random()*3)+1;
                let player = ran();
                let com = ran();
                console.log(player + " / " + com);

                switch(player){
                    case 1 : // 플레이어가 가위  무 / 패 / 승
                        (com==1) ? draw++ : (com==2) ? lose++ : win++;
                        break;
                    case 2 : // 플레이어가 바위
                        (com==2) ? draw++ : (com==3) ? lose++ : win++;
                        break;
                    case 3 : // 플레이어가 보
                        (com==3) ? draw++ : (com==1) ? lose++ : win++;
                        break;
                        default : break;
                };
            };
            console.log(`승: ${win}, 무: ${draw}, 패: ${lose}`);
            // 승률
            document.getElementById('result').innerText = `${(win/(10-draw)*100).toFixed(2)}`;
        })

        
    </script>
</body>
</html>
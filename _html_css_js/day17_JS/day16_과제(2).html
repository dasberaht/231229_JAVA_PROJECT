<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        <button type="button" id="startBtn">문제 출제</button>
    </h1>
    <ol id="q">
     </ol>
    <h1>
        <button type="button" id="compareBtn">정답 확인</button>
    </h1>
    <h3 id="printRatio"></h3>

<script>
    const ansObj={};        // 정답을 담을 객체
    const quizArea = document.getElementById('q');
    let count = 0;          // 전체 개수
    let correct = 0;        // 맞춘 개수

    document.getElementById('startBtn').addEventListener('click',()=>{
        // 문제가 출제되는 기능
        quizArea.innerHTML='';      // 지난 문제 제거
        count=0;    // 문제 리셋 기능
        do{
            count++;
            let dan = makeRandom(9, 2);
            let incre = makeRandom(9, 1);
            let answer = dan * incre;       // 정답
            ansObj[`ans${count}`] = answer;     // Object > 정답 추가

            // quizeArea 에 출력
            let q = `<li> ${dan} * ${incre} = `;
                q += `<input type="text" id="userAns${count}">`;
                q += `</li>`;

                quizArea.innerHTML += q;
                console.log(q);
        }while(count < 10);
        console.log(ansObj);
        count = 0;      // 문제 10개 생성 후 리셋
    })


    document.getElementById('compareBtn').addEventListener('click',()=>{
        // 정답 확인 기능
        while(count < 10){
            count++;    // 1부터 값을 주기 위해 증가부터 실행
            let userInput = document.getElementById('userAns' + count);     // 각 번지의 정답 가져오기
            if(Number(userInput.value) == ansObj[`ans${count}`]){
                correct++;      // 정답일 경우 증가
                userInput.value += ": 정답";
                // 스타일을 속성으로 직접 지정할 경우 - 를 지우고, 카멜케이스로 변경
                userInput.style.backgroundColor = 'green';
            }else{
                userInput.value += ": 오답";
                userInput.style.backgroundColor = 'red';
            }
            document.getElementById('printRatio').innerText = `정답 개수 : ${correct}, 정답률 : ${(correct/count).toFixed(2)*100} %`;
        }
    })


    // function makeRandom(count, start){
    //     // dan, incre 랜덤 값
    //     return Math.floor(Math.random()*count)+start;
    // }
    function makeRandom(max, min){
        // dan, incre 랜덤 값
        return Math.floor(Math.random()*(max-min+1))+min;
    }





</script>

</body>
</html>
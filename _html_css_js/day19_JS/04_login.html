<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color: darkslategray;
            text-align: center;
        }

        .login{
            height: 200px;
            line-height: 200px;
            font-size: 50px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.623);
        }

        .container{
            background-color: rgb(44, 58, 58);
            width: 500px;
            height: 500px;
            /* 화면 정중앙 위치 */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            border-radius: 10px;
            /* 안쪽 여백 주기 */
            padding: 30px 30px;
        }

        .text-field, #btn{
            width: 100%;
            height: 80px;
            padding: 10px;
            font-size: 15px;
            box-sizing: border-box;
            margin-bottom: 50px;
            border: none;
            outline: none;
            border-radius: 5px;
        }

        #btn{
            background-color: darkslategray;
            /* background-color: rgb(30, 51, 51); */
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: 0.5s;
        }

        .link{
            margin-top: 10px;
        }

        .link>a{
            color: darkgrey;
            text-decoration: none;
            font-size: 13px;
        }
        .link>p{
            font-size: 13px;
            color: rgb(109, 108, 108);
        }
    </style>
</head>
<body>
    <!-- <div class="login">LOGIN</div>
    <div class="container">
        <form action="">
            <input type="text" name="id" placeholder="아이디" class="text-field" id="id">
            <input type="password" name="pw" placeholder="패스워드" class="text-field" id="pw">
            <input type="submit" value="로그인" id="btn">
        </form>
        <div class="link">
            <p>ID  영문, 숫자 조합(12자)</p>
            <p>PW  영문, 숫자, 특수문자(! @ # $ % ^ & *) 조합(8자 이상)</p>
            <a href="">비밀번호를 잊어버리셨나요 ?</a>
        </div>
    </div> -->

    <!-- 2번째 방법 -->
    <div class="login">LOGIN</div>
    <div class="container">
        <form action="">
            <input type="text" name="id" placeholder="아이디" class="text-field" id="id">
            <input type="password" name="pw" placeholder="패스워드" class="text-field" id="pw">
            <input type="submit" value="로그인" id="btn" disabled>
        </form>
        <div class="link">
            <p>ID  영문, 숫자 조합(12자)</p>
            <p>PW  영문, 숫자, 특수문자(! @ # $ % ^ & *) 조합(8자 이상)</p>
            <a href="">비밀번호를 잊어버리셨나요 ?</a>
        </div>
    </div>


    <script>
        // https://regexlib.com/Search.aspx?k=password
        // https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-%EC%A0%95%EA%B7%9C%EC%8B%9D-RegExp-%EB%88%84%EA%B5%AC%EB%82%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-%EC%89%BD%EA%B2%8C-%EC%A0%95%EB%A6%AC

        // ^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!!@#$%^&*].{8,}$     // ^ : 특정 문자열로 시작
    
        // disabled = true > 비활성화 설정 / disabled = false > 활성화 설정
        // id 8글자 이상
        // pw ...   
        // 로그인 버튼 활성화/비활성화 설정 + 색 변경

        // const id = document.getElementById('id');
        // let id2 = document.querySelector('text=field')
        // const pw = document.getElementById('pw');
        // const btn = document.getElementById('btn');

        // id.focus();

        // id.addEventListener('input', ()=>{
        //     let checkid = id.value.match(/^[A-Za-z0-9]{1,8}$/);
        //     console.log(checkid);
        //     checkid==null ? btn.disabled = true : btn.disabled = false;
        //     if(btn.disabled){
        //         btn.style.backgroundColor = 'rgb(30, 51, 51)';
        //         btn.style.cursor = 'default';
        //         alert('아이디 형식이 맞지 않습니다.')
        //     }else{
        //         btn.style.backgroundColor = 'darkslategray';
        //         btn.style.cursor = 'pointer';
        //     }
        // });

        // pw.addEventListener('input', ()=>{
        //     let checkpw = pw.value.match(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!!@#$%^&*].{8,}$/);
        //     console.log(checkpw);
        //     checkpw==null ? btn.disabled = true : btn.disabled = false;
        //     if(btn.disabled){
        //         btn.style.backgroundColor = 'rgb(30, 51, 51)';
        //         btn.style.cursor = 'default';
        //     }else{
        //         btn.style.backgroundColor = 'darkslategray';
        //         btn.style.cursor = 'pointer';
        //     }
        // });

        

        const input = document.querySelectorAll('.text-field');
        const btn = document.querySelector('.btn');
        console.log(input);

        input[0].addEventListener('input', ()=>{
            // id
            if(input[1].value.length>7){
                if(input[0].value.length>7){
                    btn.style.setProperty('background-color', 'darkslategray');
                    btn.disabled = false;
                };
            }else{
                btn.style.setProperty('background-color', 'red');
                btn.disabled = true;
            };
        });

        input[1].addEventListener('input', ()=>{
            // pw
            let reg = new RegExp(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!!@#$%^&*].{8,}$/);
            console.log(input[1].value, reg.test(input[1].value));
            let uid = input[0].value;
            let upw = input[0].value;
            if(uid.length>7){
                if(reg.test(upw)){
                    btn.style.setProperty('background-color', 'darkslategray');
                    btn.disabled = false;
                }else{
                    btn.style.setProperty('background-color', 'red');
                    btn.disabled = true;
                };
            }else{
                btn.style.setProperty('background-color', 'red');
                btn.disabled = true;
            };

        });


       
    
    </script>

</body>
</html>